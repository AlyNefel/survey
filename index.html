<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>survey for my masters class</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollreveal/4.0.9/scrollreveal.min.js"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      background-color: #121212;
      color: #ffffff;
    }
    .navbar {
      background-color: #212121;
    }
    .nav-link, .navbar-brand {
      color: #ffffff;
    }
    .nav-link:hover {
      color: #90caf9;
    }
    .section {
      padding-top: 100px;
      padding-bottom: 50px;
    }
    .card {
      background-color: #1e1e1e;
      color: #ffffff;
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      margin-bottom: 20px;
    }
    .card h5 {
      color: #90caf9;
    }
    .card ul {
      padding-left: 20px;
    }
  </style>
  
    <style>
  .survey-section {
    background: rgba(0, 0, 0, 0.329);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    margin-top: 120px;
    margin-bottom: 40px;
    padding: 40px 0;
  }
  .survey-title {
    color: #90caf9;
    text-align: center;
    margin-bottom: 32px;
    font-weight: 700;
    letter-spacing: 1px;
  }
  .survey-form {
    max-width: 600px;
    margin: 0 auto;
    background: #181818;
    border-radius: 12px;
    padding: 32px 24px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.25);
  }
  .form-group {
    margin-bottom: 28px;
  }
  .form-group label {
    display: block;
    font-weight: 600;
    color: #90caf9;
    margin-bottom: 10px;
    font-size: 1.08rem;
    letter-spacing: 0.2px;
  }
  .form-group input[type="email"],
  .form-group input[type="text"],
  .form-group textarea,
  .form-group select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 6px;
    border: 1px solid #333;
    background: #232323;
    color: #fff;
    font-size: 1rem;
    margin-top: 4px;
    transition: border-color 0.2s;
  }
  .form-group input:focus,
  .form-group textarea:focus,
  .form-group select:focus {
    border-color: #2196f3;
    outline: none;
  }
  .radio-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 8px;
  }
  .radio-option {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .radio-option input[type="radio"] {
    accent-color: #2196f3;
    width: 18px;
    height: 18px;
  }
  .submit-btn {
    background: linear-gradient(90deg, #2196f3 0%, #90caf9 100%);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 12px 32px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
    margin-top: 10px;
    width: 100%;
  }
  .submit-btn:hover {
    background: linear-gradient(90deg, #1976d2 0%, #64b5f6 100%);
  }
  .success-message,
  .error-message {
    display: none;
    margin-top: 18px;
    padding: 12px;
    border-radius: 6px;
    font-weight: 500;
    text-align: center;
  }
  .success-message {
    background: #1b5e20;
    color: #b9f6ca;
  }
  .error-message {
    background: #b71c1c;
    color: #ff8a80;
  }
</style>

  </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.birds.min.js"></script>
  <style>
    #background-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
  </style>
</head>
<body>
  <div id="background-animation"></div>
  <div class="container mt-5">
    <div class="card">
      <div class="card-body"></div>
        <h1 class="card-title" style="color: #90caf9;">
          Hello everyone,
        </h1>
        <h2 class="card-text" style="color: white;">
          I am doing a short survey for my masters class. Could you please give me your answers? I appreciate your help. If you can share it, that would be even better, lol. üéìüôè
          <br><br>
          üèÜ After one month, we will select a winner for a $100 gift card! üí∏üéÅ
        </h2>
      </div>
    </div>
  </div>

   <section class="survey-section" id="survey">
    <div class="container survey-container">
      <h2 class="survey-title">Package Delivery Experience Survey</h2>
      <form class="survey-form" id="deliverySurvey">
        <div class="form-group">
            <label for="email">
            Email Address*
            <span class="badge bg-info text-dark" style="font-size:0.75em; vertical-align:middle; padding:2px 6px;">
              (email only used to contact the winner)
            </span>
            </label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label>Which gift card would you prefer if you win?*</label>
            <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="giftGoogle" name="giftCardChoice" value="Google Gift Card" required>
              <img src="https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6520/6520922_sd.jpg" alt="Google Gift Card" style="width:32px; height:32px; border-radius:50%; background:#fff; padding:3px; margin-right:8px;">
              <label for="giftGoogle">Google Gift Card</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="giftAppStore" name="giftCardChoice" value="App Store Gift Card">
              <img src="https://applepremiumstore.com.ng/wp-content/uploads/2021/12/100-1.png" alt="App Store Gift Card" style="width:32px; height:32px; border-radius:50%; background:#fff; padding:3px; margin-right:8px;">
              <label for="giftAppStore">App Store Gift Card</label>
            </div>
          </div>
        </div>
        <hr>
        <div class="form-group">
          <label>1- When was the last time you had an issue with a package delivery?*</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="lastNever" name="lastPackageIssue" value="Never" required>
              <label for="lastNever">Never</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="lastMonth" name="lastPackageIssue" value="Within the last month">
              <label for="lastMonth">Within the last month</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="last1to3" name="lastPackageIssue" value="1‚Äì3 months ago">
              <label for="last1to3">1‚Äì3 months ago</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="lastOver3" name="lastPackageIssue" value="Over 3 months ago">
              <label for="lastOver3">Over 3 months ago</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="issueDescription">2- What happened? What did you do about it?*</label>
          <textarea id="issueDescription" name="issueDescription" required></textarea>
        </div>
        
        <div class="form-group">
          <label>3- What is your current package delivery setup?*</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="setup1" name="currentSetup" value="I'm usually home" required>
              <label for="setup1">I'm usually home</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="setup2" name="currentSetup" value="Porch/doorstep with no security">
              <label for="setup2">Porch/doorstep with no security</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="setup3" name="currentSetup" value="I use a lockbox or other device">
              <label for="setup3">I use a lockbox or other device</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="setup4" name="currentSetup" value="I leave instructions for the courier">
              <label for="setup4">I leave instructions for the courier</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="setup5" name="currentSetup" value="Other">
              <label for="setup5">Other</label>
            </div>
          </div>
          <div class="form-group" id="otherSetupGroup" style="display: none;">
            <label for="otherSetupDescription">Please describe your setup</label>
            <input type="text" id="otherSetupDescription" name="otherSetupDescription">
          </div>
        </div>
        
        <div class="form-group">
          <label>4- Have you looked for products to improve your package security?*</label>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="lookedYes" name="lookedForProducts" value="Yes" required>
              <label for="lookedYes">Yes</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="lookedNo" name="lookedForProducts" value="No">
              <label for="lookedNo">No</label>
            </div>
          </div>
          <div class="form-group" id="productConsiderationsGroup" style="display: none;">
            <label for="productConsiderations">If yes, what options did you consider? What stopped you from buying any of them?</label>
            <textarea id="productConsiderations" name="productConsiderations"></textarea>
          </div>
        </div>
        
        <button type="submit" class="submit-btn">Submit Response</button>
        <div class="success-message" id="successMessage">
          Thank you for your response! Your feedback has been submitted successfully.
        </div>
        <div class="error-message" id="errorMessage">
          There was an error submitting your response. Please try again.
        </div>
      </form>
    </div>
  </section>


<script>
    let vantaEffect;
function setVanta(effectName) {
  if (vantaEffect) vantaEffect.destroy();
  switch(effectName) {
    case 'net':
      vantaEffect = VANTA.NET({ el: "#background-animation", mouseControls: true, touchControls: true, minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00, color: 0x2196f3, backgroundColor: 0x121212 });
      break;
    case 'waves':
      vantaEffect = VANTA.WAVES({ el: "#background-animation", mouseControls: true, touchControls: true, minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00, color: 0x2196f3, shininess: 50, waveHeight: 20, waveSpeed: 1, backgroundColor: 0x121212 });
      break;
    case 'birds':
      vantaEffect = VANTA.BIRDS({ el: "#background-animation", mouseControls: true, touchControls: true, minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00, backgroundColor: 0x121212, color1: 0x2196f3, color2: 0x90caf9 });
      break;
  }
}
setVanta('net'); // Change 'net' to 'waves' or 'birds' to test other effects
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('deliverySurvey');
    const successMessage = document.getElementById('successMessage');
    const errorMessage = document.getElementById('errorMessage');
    const otherSetupRadio = document.querySelector('input[name="currentSetup"][value="Other"]');
    const otherSetupGroup = document.getElementById('otherSetupGroup');
    const lookedYesRadio = document.getElementById('lookedYes');
    const productConsiderationsGroup = document.getElementById('productConsiderationsGroup');

    // Show/hide "Other" setup input
    document.querySelectorAll('input[name="currentSetup"]').forEach(radio => {
      radio.addEventListener('change', function () {
        if (otherSetupRadio.checked) {
          otherSetupGroup.style.display = 'block';
          document.getElementById('otherSetupDescription').setAttribute('required', 'required');
        } else {
          otherSetupGroup.style.display = 'none';
          document.getElementById('otherSetupDescription').removeAttribute('required');
        }
      });
    });

    // Show/hide product considerations textarea
    document.querySelectorAll('input[name="lookedForProducts"]').forEach(radio => {
      radio.addEventListener('change', function () {
        if (lookedYesRadio.checked) {
          productConsiderationsGroup.style.display = 'block';
        } else {
          productConsiderationsGroup.style.display = 'none';
        }
      });
    });

    form.addEventListener('submit', async function (e) {
      e.preventDefault();
      successMessage.style.display = 'none';
      errorMessage.style.display = 'none';

      // Validate required fields
      const email = form.email.value.trim();
      // Get giftCardChoice value
      const giftCardChoice = form.giftCardChoice ? form.giftCardChoice.value : '';
      const lastPackageIssue = form.lastPackageIssue.value;
      const issueDescription = form.issueDescription.value.trim();
      const currentSetup = form.currentSetup.value;
      const otherSetupDescription = document.getElementById('otherSetupDescription').value.trim();
      const lookedForProducts = form.lookedForProducts.value;
      const productConsiderations = document.getElementById('productConsiderations').value.trim();

      let isValid = true;
      if (!email || !giftCardChoice || !lastPackageIssue || !issueDescription || !currentSetup || !lookedForProducts) {
        isValid = false;
      }
      if (currentSetup === 'Other' && !otherSetupDescription) {
        isValid = false;
      }

      if (!isValid) {
        errorMessage.textContent = 'Please answer all required questions.';
        errorMessage.style.display = 'block';
        return;
      }

      // Prepare form data
      const formData = {
        email,
        giftCardChoice,
        lastPackageIssue,
        issueDescription,
        currentSetup,
        otherSetupDescription: currentSetup === 'Other' ? otherSetupDescription : '',
        lookedForProducts,
        productConsiderations: lookedForProducts === 'Yes' ? productConsiderations : ''
      };

      try {
        const response = await fetch('https://backend-survey-2.onrender.com/api/form/submit', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });
        const result = await response.json();
        if (response.ok) {
          successMessage.style.display = 'block';
          form.reset();
          otherSetupGroup.style.display = 'none';
          productConsiderationsGroup.style.display = 'none';
        } else {
          if (result.error === 'Email already exists') {
            errorMessage.textContent = 'You have already used this email. Sorry!';
          } else {
            errorMessage.textContent = result.error || 'Failed to submit form';
          }
          errorMessage.style.display = 'block';
        }
      } catch (err) {
        errorMessage.textContent = 'There was an error submitting your response. Please try again.';
        errorMessage.style.display = 'block';
      }
    });
  });
  </script>
</body>
</html>
